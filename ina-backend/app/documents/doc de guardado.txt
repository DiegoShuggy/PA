‚Üê[32mINFO‚Üê[0m:     Will watch for changes in these directories: ['C:\\Users\\Jorge Arias\\Documents\\GitHub\\Proyecto_InA\\ina-backend']
‚Üê[32mINFO‚Üê[0m:     Uvicorn running on ‚Üê[1mhttp://127.0.0.1:8000‚Üê[0m (Press CTRL+C to quit)
‚Üê[32mINFO‚Üê[0m:     Started reloader process [‚Üê[36m‚Üê[1m8804‚Üê[0m] using ‚Üê[36m‚Üê[1mWatchFiles‚Üê[0m
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [10652]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=7779
INFO:     Application startup complete.
INFO:     127.0.0.1:53640 - "OPTIONS /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Tema desconocido/off-topic: te paseo ia ql
INFO:app.main:‚ùì Tema desconocido/off-topic: te paseo ia ql
INFO:     127.0.0.1:53640 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Tema desconocido/off-topic: que tal sobre israel?
INFO:app.main:‚ùì Tema desconocido/off-topic: que tal sobre israel?
INFO:     127.0.0.1:53642 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de chile?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de chile? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de chile?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:04<00:00,  4.91s/it]
INFO:app.rag:Procesamiento: 'que opinas de chile?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de chile?'
INFO:app.rag:No se encontraron documentos para: que opinas de chile
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 339 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de chile?
INFO:app.qr_generator:üîç Buscando URLs en texto: Soy un asistente inform√°tico y no tengo sentimientos o opiniones personales. Sin embargo, Chile es u...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 32.06s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 339 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 32.18s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 727e315d-5151-4e65-8541-2cbc0a05b5e0
INFO:     127.0.0.1:53643 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de donald trump
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de donald trump - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de donald trump' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  6.01it/s]
INFO:app.rag:Procesamiento: 'que opinas de donald trump' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de donald trump'
INFO:app.rag:No se encontraron documentos para: que opinas de donald trump
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 214 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de donald trump
INFO:app.qr_generator:üîç Buscando URLs en texto: Soy un asistente inform√°tico y no tengo sentimientos ni opiniones personales. No puedo comentar sobr...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 8.12s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 214 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 8.25s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 3b773dde-339a-4239-96ed-24b8f6407ca2
INFO:     127.0.0.1:53787 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de nicolas maduro?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de nicolas maduro? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de nicolas maduro?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  5.41it/s]
INFO:app.rag:Procesamiento: 'que opinas de nicolas maduro?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de nicolas maduro?'
INFO:app.rag:No se encontraron documentos para: que opinas de nicolas maduro
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 395 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de nicolas maduro?
INFO:app.qr_generator:üîç Buscando URLs en texto: Soy un asistente inform√°tico y no tengo opiniones personales. Sin embargo, Nicol√°s Maduro es el pres...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 12.43s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 395 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 12.53s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 0bc03fb9-88ef-486e-bece-d0527845c8cf
INFO:     127.0.0.1:53788 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Tema desconocido/off-topic: que tal sobre los yankies
INFO:app.main:‚ùì Tema desconocido/off-topic: que tal sobre los yankies
INFO:     127.0.0.1:53857 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:54013 - "OPTIONS /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Tema desconocido/off-topic: ¬øPuedes sugerirme 3 posibles √°ngulos o preguntas de investigaci√≥n?
INFO:app.main:‚ùì Tema desconocido/off-topic: ¬øPuedes sugerirme 3 posibles √°ngulos o preguntas de investigaci√≥n?
INFO:     127.0.0.1:54013 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: Tengo que escribir un ensayo sobre [el cambio clim√°tico y las pol√≠ticas p√∫blicas]. ¬øPuedes ayudarme a crear un esquema detallado?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: Tengo que escribir un ensayo sobre [el cambio clim√°tico y las pol√≠ticas p√∫blicas]. ¬øPuedes ayudarme a crear un esquema detallado? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'Tengo que escribir un ensayo sobre [el cambio clim√°tico y las pol√≠ticas p√∫blicas]. ¬øPuedes ayudarme a crear un esquema detallado?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  3.96it/s]
INFO:app.rag:Consulta m√∫ltiple detectada por patr√≥n: ['tengo que escribir un ensayo sobre [el cambio clim√°tico', 'las pol√≠ticas p√∫blicas]. ¬øpuedes ayudarme a crear un esquema detallado?']
INFO:app.rag:Procesamiento: 'Tengo que escribir un ensayo sobre [el cambio clim√°tico y las pol√≠ticas p√∫blicas]. ¬øPuedes ayudarme a crear un esquema detallado?' -> Estrategia: multiple_queries
INFO:app.rag:Procesando 2 consultas m√∫ltiples: ['tengo que escribir un ensayo sobre [el cambio clim√°tico', 'las pol√≠ticas p√∫blicas]. ¬øpuedes ayudarme a crear un esquema detallado?']
INFO:app.rag:  Procesando parte 1: 'tengo que escribir un ensayo sobre [el cambio clim√°tico'
INFO:app.rag:No se encontraron documentos para: tengo que escribir un ensayo sobre el cambio clim√°tico
INFO:app.rag:  Procesando parte 2: 'las pol√≠ticas p√∫blicas]. ¬øpuedes ayudarme a crear un esquema detallado?'
INFO:app.rag:No se encontraron documentos para: las pol√≠ticas p√∫blicas puedes ayudarme a crear un esquema detallado
INFO:app.rag:Consultas m√∫ltiples procesadas en 0.11s
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 374 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: Tengo que escribir un ensayo sobre [el cambio clim√°tico y las pol√≠ticas p√∫blicas]. ¬øPuedes ayudarme a crear un esquema detallado?
INFO:app.qr_generator:üîç Buscando URLs en texto: **Varias consultas detectadas:**

**1. tengo que escribir un ensayo sobre [el cambio clim√°tico:**
Co...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: ['ayuda']
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado desde contexto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 1 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: multiple_queries
INFO:app.main:üìä Tiempo total: 0.46s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 374 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 0.56s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 405eb485-e024-41f1-8003-0c02f4c03878
INFO:     127.0.0.1:54015 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: Revisa este p√°rrafo de mi introducci√≥n y dime si la tesis est√° clara y el tono es apropiado.
INFO:app.main:‚ùì Tema desconocido/off-topic: Revisa este p√°rrafo de mi introducci√≥n y dime si la tesis est√° clara y el tono es apropiado.
INFO:     127.0.0.1:54027 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: ¬øC√≥mo cito en formato APA un art√≠culo de una revista cient√≠fica que encontr√© en l√≠nea?
INFO:app.main:‚ùì Tema desconocido/off-topic: ¬øC√≥mo cito en formato APA un art√≠culo de una revista cient√≠fica que encontr√© en l√≠nea?
INFO:     127.0.0.1:54028 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:PRIORIDAD ALTA - Pregunta institucional: que problematicas tiene duoc uc?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que problematicas tiene duoc uc? - Categor√≠a: institucionales
INFO:app.classifier:Keyword classification - Pregunta: 'que problematicas tiene duoc uc?' -> 'institucionales' (confianza: 0.50)
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  6.23it/s]
INFO:app.rag:Procesamiento: 'que problematicas tiene duoc uc?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que problematicas tiene duoc uc?'
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 151 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que problematicas tiene duoc uc?
INFO:app.qr_generator:üîç Buscando URLs en texto: La fuente proporcionada no provee informaci√≥n sobre los problemas que Duoc UC puede tener. Para obte...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: ['ayuda']
INFO:app.qr_generator:üîÑ Usando QR en cache para: ayuda
INFO:app.qr_generator:‚úÖ QR agregado desde contexto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 1 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 22.49s
INFO:app.main:üîç Fuentes utilizadas: 1
INFO:app.main:üìù Longitud respuesta: 151 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 22.68s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 4d141432-f417-4f91-bc4c-e42094a015f2
INFO:     127.0.0.1:54052 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: los coordinadores son weones?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: los coordinadores son weones? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'los coordinadores son weones?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  5.65it/s]
INFO:app.rag:Procesamiento: 'los coordinadores son weones?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'los coordinadores son weones?'
INFO:app.rag:No se encontraron documentos para: los coordinadores son weones
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 142 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: los coordinadores son weones?
INFO:app.qr_generator:üîç Buscando URLs en texto: La informaci√≥n proporcionada no especifica que los coordinadores sean "weones". El t√©rmino correcto ...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 7.35s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 142 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 7.47s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 48add3e0-e374-4fbb-bbcd-b1d1a8f2a7ca
INFO:     127.0.0.1:54053 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: ojala se vallan los coordinadores del punto
INFO:app.main:‚úÖ Pregunta aprobada por filtros: ojala se vallan los coordinadores del punto - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'ojala se vallan los coordinadores del punto' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  6.30it/s]
INFO:app.rag:Procesamiento: 'ojala se vallan los coordinadores del punto' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'ojala se vallan los coordinadores del punto'
INFO:app.rag:No se encontraron documentos para: ojala se vallan los coordinadores del punto
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 280 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: ojala se vallan los coordinadores del punto
INFO:app.qr_generator:üîç Buscando URLs en texto: No puedo garantizar que los coordinadores del Punto Estudiantil Duoc UC Plaza Norte tomen medidas es...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 10.87s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 280 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 11.17s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 543f22b4-4736-4fc8-9517-b2ad0762909d
INFO:     127.0.0.1:54162 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: son inutiles los coordinadores del punto
INFO:app.main:‚úÖ Pregunta aprobada por filtros: son inutiles los coordinadores del punto - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'son inutiles los coordinadores del punto' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  5.03it/s]
INFO:app.rag:Procesamiento: 'son inutiles los coordinadores del punto' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'son inutiles los coordinadores del punto'
INFO:app.rag:No se encontraron documentos para: son inutiles los coordinadores del punto
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 315 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: son inutiles los coordinadores del punto
INFO:app.qr_generator:üîç Buscando URLs en texto: La informaci√≥n proporcionada no especifica si los coordinadores del Punto Estudiantil Duoc UC Plaza ...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 14.45s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 315 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 14.53s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 26bd04f0-540e-4b0a-816d-e75d94eb5a08
INFO:     127.0.0.1:54163 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:54333 - "OPTIONS /feedback/response HTTP/1.1" 200 OK
INFO:app.main:üéØ DEBUG - RAW DATA RECEIVED:
INFO:app.main:üéØ DEBUG - Tipo: <class 'dict'>
INFO:app.main:üéØ DEBUG - Contenido: {
  "currentFeedbackSession": "26bd04f0-540e-4b0a-816d-e75d94eb5a08",
  "isSatisfied": true
}
INFO:app.main:üéØ DEBUG - Campos encontrados: session_id=26bd04f0-540e-4b0a-816d-e75d94eb5a08, is_satisfied=True
INFO:app.response_feedback:Feedback b√°sico guardado para sesi√≥n 26bd04f0-540e-4b0a-816d-e75d94eb5a08: satisfecho=True
INFO:app.main:‚úÖ Feedback b√°sico guardado exitosamente
INFO:     127.0.0.1:54333 - "POST /feedback/response HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app\content_filter.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10652]
Process SpawnProcess-1:
Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
WARNING:  WatchFiles detected changes in 'app\content_filter.py'. Reloading...
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [15092]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=8027
INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\starlette\routing.py", line 741, in lifespan
    await receive()
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\queues.py", line 186, in get
    await getter
asyncio.exceptions.CancelledError

Process SpawnProcess-2:
Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [19008]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=8275
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app\content_filter.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [19008]
Process SpawnProcess-3:
Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
WARNING:  WatchFiles detected changes in 'app\content_filter.py'. Reloading...
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [4256]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=8523
INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\starlette\routing.py", line 741, in lifespan
    await receive()
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\queues.py", line 186, in get
    await getter
asyncio.exceptions.CancelledError

Process SpawnProcess-4:
Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [4064]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=8771
INFO:     Application startup complete.
INFO:     127.0.0.1:55292 - "OPTIONS /chat HTTP/1.1" 200 OK
ERROR:app.main:Error general en /chat: 'ContentFilter' object has no attribute '_is_opinion_request'
INFO:     127.0.0.1:55292 - "POST /chat HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app\content_filter.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [4064]
Process SpawnProcess-5:
Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8804, pipe_handle=524)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "C:\Users\Jorge Arias\AppData\Local\Programs\Python\Python313\Lib\multiprocessing\spawn.py", line 132, in _main
    self = reduction.pickle.load(from_parent)
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\__init__.py", line 1, in <module>
    from uvicorn.config import Config
  File "C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\venv\Lib\site-packages\uvicorn\config.py", line 5, in <module>
    import json
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1322, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 1262, in _find_spec
  File "<frozen importlib._bootstrap_external>", line 1559, in find_spec
  File "<frozen importlib._bootstrap_external>", line 1535, in _get_spec
KeyboardInterrupt
INFO:     Stopping reloader process [8804]
^C
(venv) C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend>uvicorn app.main:app --reload --port 8000
‚Üê[32mINFO‚Üê[0m:     Will watch for changes in these directories: ['C:\\Users\\Jorge Arias\\Documents\\GitHub\\Proyecto_InA\\ina-backend']
‚Üê[32mINFO‚Üê[0m:     Uvicorn running on ‚Üê[1mhttp://127.0.0.1:8000‚Üê[0m (Press CTRL+C to quit)
‚Üê[32mINFO‚Üê[0m:     Started reloader process [‚Üê[36m‚Üê[1m15648‚Üê[0m] using ‚Üê[36m‚Üê[1mWatchFiles‚Üê[0m
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:app.metrics_tracker:‚úÖ Tablas de m√©tricas verificadas/creadas
TELEMETR√çA DE CHROMADB DESACTIVADA / SILENCIADA (si estaba activa)
INFO:app.main:Router de ingest incluido y disponible en /ingest (beautifulsoup4 instalado)
INFO:app.qr_generator:‚úÖ QR Generator inicializado con detecci√≥n mejorada de URLs
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:Cargando conocimiento base corregido...
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:app.training_data_loader:Base: 11 √≠tems
INFO:app.training_data_loader:6 documentos Word encontrados
INFO:app.training_data_loader:Procesando: Paginas y descripcion.docx
INFO:app.training_data_loader:Extrayendo: Paginas y descripcion.docx
INFO:app.training_data_loader:Paginas y descripcion.docx: 22 fragmentos √∫tiles
INFO:app.training_data_loader:Paginas y descripcion.docx: 22/22 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuenes - Asuntos Estudiantiles.docx
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuenes - Asuntos Estudiantiles.docx: 64/64 agregados
INFO:app.training_data_loader:Procesando: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Extrayendo: Preguntas frecuentes BE.docx
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas frecuentes BE.docx: 2/2 agregados
INFO:app.training_data_loader:Procesando: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Extrayendo: Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69 fragmentos √∫tiles
INFO:app.training_data_loader:Preguntas Frecuentes Deportes y Activididad F√≠sica (1).docx: 69/69 agregados
INFO:app.training_data_loader:Procesando: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:Extrayendo: PREGUNTAS FRECUENTES DL.docx
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:PREGUNTAS FRECUENTES DL.docx: 24/24 agregados
INFO:app.training_data_loader:Procesando: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:Extrayendo: RESUMEN AREAS DDE.docx
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24 fragmentos √∫tiles
INFO:app.training_data_loader:RESUMEN AREAS DDE.docx: 24/24 agregados
INFO:app.training_data_loader:TOTAL RAG: 205 documentos
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
‚úÖ RAG cargado con toda la informaci√≥n de documentos Word
Device set to use cpu
INFO:app.sentiment_analyzer:Analizador de sentimiento inicializado correctamente
INFO:     Started server process [19048]
INFO:     Waiting for application startup.
INFO:app.models:‚úÖ Tablas de base de datos creadas/verificadas
INFO:app.training_data_loader:INICIANDO CARGA COMPLETA
INFO:app.training_data_loader:CARGA COMPLETA FINALIZADA
INFO:app.main:‚úÖ Base de datos y conocimiento hist√≥rico cargados
INFO:app.main:‚úÖ Sistema de filtros de contenido inicializado
INFO:app.main:‚úÖ Sistema de emails Gmail configurado y listo
INFO:app.main:‚úÖ Generador de QR inicializado y listo
INFO:app.main:üîÑ Iniciando ingesta autom√°tica desde C:\Users\Jorge Arias\Documents\GitHub\Proyecto_InA\ina-backend\urls.txt (11 URLs)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/titulados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/admision/financiamiento/becas-estatales/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/info-tne/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/alumnos/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 11 chunks desde https://www.duoc.cl/admision/financiamiento/becas-estatales/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 9 chunks desde https://www.duoc.cl/test-oficina-de-titulos-y-certificados/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/beneficios/salud-autocuidado/ "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://www.duoc.cl/alumnos/seguro/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 4 chunks desde https://www.duoc.cl/vida-estudiantil/titulados/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/sedes/info-tne/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://www.duoc.cl/sedes/plaza-norte/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 8 chunks desde https://www.duoc.cl/alumnos/seguro/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 5 chunks desde https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 44 chunks desde https://www.duoc.cl/beneficios/salud-autocuidado/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 3 chunks desde https://www.duoc.cl/sedes/plaza-norte/ fueron omitidos (ya indexados previamente)
INFO:httpx:HTTP Request: GET https://bibliotecas.duoc.cl/inicio/ "HTTP/1.1 200 OK"
INFO:app.async_ingest:‚ö†Ô∏è  Todos los 2 chunks desde https://bibliotecas.duoc.cl/inicio/ fueron omitidos (ya indexados previamente)
INFO:app.async_ingest:Total chunks a√±adidos: 0
WARNING:app.main:‚ö†Ô∏è  Ingesta autom√°tica completada pero 0 fragmentos nuevos a√±adidos. Posible causa: contenido ya indexado previamente.
INFO:app.main: - Ingestada URL: https://www.duoc.cl/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/test-oficina-de-titulos-y-certificados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/titulados/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/info-tne/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/admision/financiamiento/becas-estatales/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/vida-estudiantil/unidad-de-apoyo-y-bienestar-estudiantil/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/alumnos/seguro/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/beneficios/salud-autocuidado/
INFO:app.main: - Ingestada URL: https://bibliotecas.duoc.cl/inicio/
INFO:app.main: - Ingestada URL: https://www.duoc.cl/sedes/plaza-norte/
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:‚ÑπÔ∏è  No se detectaron URLs ingestadas en la colecci√≥n Chroma (no hay ingestas web registradas)
INFO:app.main:üì¶ Resumen RAG al inicio: total_documents=9019
INFO:     Application startup complete.
INFO:     127.0.0.1:55632 - "OPTIONS /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de genshin impact?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de genshin impact? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de genshin impact?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  4.51it/s]
INFO:app.rag:Procesamiento: 'que opinas de genshin impact?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de genshin impact?'
INFO:app.rag:No se encontraron documentos para: que opinas de genshin impact
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 372 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de genshin impact?
INFO:app.qr_generator:üîç Buscando URLs en texto: Genshin Impact es un videojuego de rol de acci√≥n y aventura desarrollado por mi compa√±√≠a, mi empresa...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 23.53s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 372 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 23.61s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: f7c351ab-3a98-46f1-ad2d-c4d929ff0537
INFO:     127.0.0.1:55632 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de gabriel boric?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de gabriel boric? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de gabriel boric?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  7.35it/s]
INFO:app.rag:Procesamiento: 'que opinas de gabriel boric?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de gabriel boric?'
INFO:app.rag:No se encontraron documentos para: que opinas de gabriel boric
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 230 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de gabriel boric?
INFO:app.qr_generator:üîç Buscando URLs en texto: Soy un modelo de lenguaje y no tengo opiniones personales. No puedo comentar sobre personas reales, ...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 17.23s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 230 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 17.29s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 66c982fc-f102-430e-87c6-eded89b3fa73
INFO:     127.0.0.1:55752 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de los coordinadores del punto?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de los coordinadores del punto? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de los coordinadores del punto?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  7.29it/s]
INFO:app.rag:Procesamiento: 'que opinas de los coordinadores del punto?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de los coordinadores del punto?'
INFO:app.rag:No se encontraron documentos para: que opinas de los coordinadores del punto
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 195 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de los coordinadores del punto?
INFO:app.qr_generator:üîç Buscando URLs en texto: La informaci√≥n proporcionada no permite formular una opini√≥n sobre los coordinadores del Punto Estud...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 6.27s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 195 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 6.33s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 4c1a8534-e388-46bf-9fe7-00320b47e3e5
INFO:     127.0.0.1:55809 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:55845 - "OPTIONS /chat HTTP/1.1" 200 OK
INFO:app.content_filter:PRIORIDAD ALTA - Pregunta institucional: que opinas de la vision de duoc uc?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de la vision de duoc uc? - Categor√≠a: institucionales
INFO:app.classifier:Keyword classification - Pregunta: 'que opinas de la vision de duoc uc?' -> 'institucionales' (confianza: 0.50)
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  6.81it/s]
INFO:app.rag:Procesamiento: 'que opinas de la vision de duoc uc?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de la vision de duoc uc?'
INFO:app.rag:No se encontraron documentos para: que opinas de la vision duoc uc
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 331 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de la vision de duoc uc?
INFO:app.qr_generator:üîç Buscando URLs en texto: La visi√≥n de la Universidad Duoc UC, seg√∫n su p√°gina web, es: "Ser una universidad l√≠der en el desar...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 9.08s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 331 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 9.14s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 394f5406-be77-4496-a2fc-3fe319f51071
INFO:     127.0.0.1:55845 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:Pregunta permitida por t√©rminos institucionales: que opinas de league of legends?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: que opinas de league of legends? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'que opinas de league of legends?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  7.19it/s]
INFO:app.rag:Procesamiento: 'que opinas de league of legends?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'que opinas de league of legends?'
INFO:app.rag:No se encontraron documentos para: que opinas de league of legends
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 340 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: que opinas de league of legends?
INFO:app.qr_generator:üîç Buscando URLs en texto: La informaci√≥n proporcionada no contiene una opini√≥n sobre League of Legends. Soy un asistente de ap...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 10.69s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 340 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 10.75s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 264d046c-bd3d-41db-9150-862bd46cc24e
INFO:     127.0.0.1:55897 - "POST /chat HTTP/1.1" 200 OK
INFO:app.content_filter:PRIORIDAD ALTA - Pregunta institucional: crees que duoc deberia de tener mejores coordinadores?
INFO:app.main:‚úÖ Pregunta aprobada por filtros: crees que duoc deberia de tener mejores coordinadores? - Categor√≠a: institucionales
INFO:app.classifier:Fallback to topic classifier - Pregunta: 'crees que duoc deberia de tener mejores coordinadores?' -> 'institucionales'
INFO:app.main:Categor√≠a detectada: institucionales
INFO:app.main:Contexto encontrado: 3 resultados para categor√≠a 'institucionales'
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  7.34it/s]
INFO:app.rag:Procesamiento: 'crees que duoc deberia de tener mejores coordinadores?' -> Estrategia: standard_rag
INFO:app.rag:RAG Cache MISS para: 'crees que duoc deberia de tener mejores coordinadores?'
INFO:app.rag:No se encontraron documentos para: crees que duoc deberia de tener mejores coordinadores
INFO:httpx:HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
INFO:app.qr_generator:üéØ Procesando respuesta para generaci√≥n de QR
INFO:app.qr_generator:üìù Longitud respuesta: 347 caracteres
INFO:app.qr_generator:‚ùì Pregunta original: crees que duoc deberia de tener mejores coordinadores?
INFO:app.qr_generator:üîç Buscando URLs en texto: La pregunta no solicita una opini√≥n personal, por lo tanto, como asistente, mi respuesta ser√° la sig...
INFO:app.qr_generator:üìä Total URLs encontradas: 0
INFO:app.qr_generator:üîë Claves relevantes detectadas: []
INFO:app.qr_generator:üîÑ Usando URLs por defecto: ['https://www.duoc.cl/alumnos/', 'https://ayuda.duoc.cl/']
INFO:app.qr_generator:üì± Generando QR para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:üì± Generando QR para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR generado exitosamente para: https://ayuda.duoc.cl/
INFO:app.qr_generator:‚úÖ QR agregado por defecto: https://ayuda.duoc.cl/
INFO:app.qr_generator:üéä Generaci√≥n de QR completada: 2 c√≥digos creados
INFO:app.qr_generator:   üì± QR: https://www.duoc.cl/alumnos/
INFO:app.qr_generator:   üì± QR: https://ayuda.duoc.cl/
INFO:app.main:üéØ RESPUESTA GENERADA - Estrategia: standard_rag
INFO:app.main:üìä Tiempo total: 10.92s
INFO:app.main:üîç Fuentes utilizadas: 0
INFO:app.main:üìù Longitud respuesta: 347 caracteres
INFO:app.main:üìä M√©tricas trackeadas: 10.98s para categor√≠a 'institucionales'
INFO:app.response_feedback:Nueva sesi√≥n de feedback creada: 39800b41-e7b9-4df1-99ea-bf79397f2b04
INFO:     127.0.0.1:55910 - "POST /chat HTTP/1.1" 200 OK
